@model BoardShowViewModel

@using System.Globalization

@{
  var lastDate = new DateTime();
  int i = 0;
}

@foreach (var t in Model.Topics) {
  var time = TimeZoneInfo.ConvertTimeFromUtc(t.Item2, Beon.Settings.TimeZone);
  @if (i == 0 || lastDate.Date > time) {
    <partial name="_BoardDatePartial" model="@t.Item2"></partial>
    lastDate = time;
  }
  <vc:topic-preview topic-id="@t.Item1" />
  <br>
  ++i;
}

@if (Model.CanCreateTopics) {
  <partial name="_TopicCreatePartial" model="@new TopicCreateViewModel(Model.CreateTopicPath)"></partial>
}