@model BoardViewModel

@using System.Globalization

@{
  var lastDate = new DateTime();
  int i = 0;
}

@foreach (var t in Model.Topics) {
  var time = TimeZoneInfo.ConvertTimeFromUtc(t.TimeStamp, Beon.Settings.TimeZone);
  @if (i == 0 || lastDate.Date > time) {
    <partial name="_BoardDatePartial" model="@t.TimeStamp"></partial>
    lastDate = time;
  }
  <partial name="_TopicPreviewPartial" model="@t"></partial>
  <br>
  ++i;
}

@if (Model.CanCreateTopics) {
  <partial name="_TopicCreatePartial" model="@new TopicCreateViewModel(Model.CreateTopicPath)"></partial>
}